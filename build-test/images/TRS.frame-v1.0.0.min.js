/*
	TRSFrame 1.0.0 (build 63049cb)
	Copyright 2014 TRS Inc. All rights reserved.
*/
(function(e){function a(t,n){this.element=t,this.options=e.extend({},o,n,{width:e(window).width(),height:e(window).height(),xPos:this.getRandomNum(0,e(window).width()-e(t).innerWidth()),yPos:this.getRandomNum(0,300),yOn:this.getRandomNum(0,1),xOn:this.getRandomNum(0,1),yPath:this.getRandomNum(0,1),xPath:this.getRandomNum(0,1),hOffset:e(t).innerHeight(),wOffset:e(t).innerWidth(),fn:function(){},interval:0}),this._defaults=o,this._name=s,this.init()}var t=window.XMLHttpRequest==undefined&&ActiveXObject!=undefined,n=typeof document.addEventListener!="function"&&window.XMLHttpRequest&&typeof document.querySelector=="undefined"?!0:!1,r=function(){jQuery(".js_pd_small_gallery").each(function(n,r){var i=jQuery(this),s=i.find(".js_pic_mid"),o=i.find(".js_pic_mid_img"),u=i.find(".js_show_gallery"),a=i.find(".js_scroll_products ul li a"),f=jQuery(".js_pd_gallery");t&&s.hover(function(){s.addClass("hover")},function(){s.removeClass("hover")}),a.click(function(){var t=e(this),n=t.attr("rel");o.attr("src",n)}),u.on("click",function(){f.fadeIn()})}),Ft(e(".js_scroll_products"),1,3e3,0,"js_scroll_prev","js_scroll_next",1,0),jQuery(".js_pd_gallery").each(function(e,t){var n=jQuery(this),r=n.find(".js_stage"),i=r.find("img"),s=n.find(".js_thumbs"),o=s.find("li"),u=n.find(".js_prev"),a=n.find(".js_next"),f=n.find(".js_plus"),l=n.find(".js_minus"),c=n.find(".js_gallery_close"),h=n.find(".js_bar"),p=n.find(".js_track"),d=n.find(".js_bar_dot"),v=r.width(),m=r.height(),g=jQuery(window),y=2e3,b=470,w=69,E=8,S=o.length,x=S-E;if(S<=E)u.hide(),a.hide();else{var T=0;u.on("click",function(){var e=T-1;if(e<0)return;offset_x=e*w,s.animate({left:-offset_x}),T=e}),a.on("click",function(){var e=T+1;if(e>x)return;offset_x=e*w,s.animate({left:-offset_x}),T=e})}var N=p.height(),C=function(e,t,n){var s=t||v/2,o=n||m/2,u=parseInt((y-b)*(e/100)+b),a=i.width(),f=i.height(),l=i.offset(),c=r.offset(),h=c.left-l.left,p=c.top-l.top,d=h+s,g=p+o,w=d/a,E=g/f,S=u*w,x=u*E,T=S-s,N=x-o;i.css({width:u,height:u,left:-T,top:-N})},k=function(e){e=parseInt(e),e=e>100?100:e,e=e<0?0:e;var t=(100-e)*N/100;d.css({top:t+"px"}),d.data("pct",e)},L=function(){i.width(b).height(b);var e=(v-b)/2,t=(m-b)/2;i.css({left:e,top:t}),k(0)},A=function(e){var t=e.data("image_l");i.attr("src",t),L()},O,M=!1;d.on("mousedown",function(e){var t=d.offset().top,n=e.pageY;return O=n-t,M=!0,e.preventDefault(),!1}),h.on("mouseup mouseenter",function(e){M=!1}),h.on("mousemove",function(e){if(M){var t=p.offset().top,n=e.pageY,r=n+0,i=parseInt(r)-parseInt(t);if(i>=0&&i<=N){var s=parseInt(i*100/N)||0,o=100-s;k(o),C(o)}e.preventDefault()}});var _=!1,D,P;i.on("mousedown",function(e){var t=i.offset();D=t.left-e.pageX,P=t.top-e.pageY,_=!0,e.preventDefault()}),r.on("mouseup mouseenter",function(){_=!1}),r.on("mousemove",function(e){if(_){var t=r.offset(),n=e.pageX+D-t.left,s=e.pageY+P-t.top;i.css({left:n,top:s}),e.preventDefault()}}),f.on("click",function(){var e=jQuery(this),t=d.data("pct"),n=t+10;n=n>100?100:n,k(n),C(n)}),l.on("click",function(){var e=jQuery(this),t=d.data("pct"),n=t-10;n=n<0?0:n,k(n),C(n)}),c.on("click",function(){n.fadeOut()}),o.click(function(){var e=jQuery(this);return A(e),e.addClass("active").siblings().removeClass("active"),!1}),r.on("mousewheel",function(e,t){var n=d.data("pct"),i=n+t*3;i=i>100?100:i,i=i<0?0:i,k(i);var s=r.offset(),o=e.pageX-s.left,u=e.pageY-s.top;return C(i,o,u),!1}),o.eq(0).click()})},i=function(t){var n=e("#js_focus_image"),r=n.find(".item"),i=n.find(".controler b"),s=t.autoPlay,o=t.autoPlay,u=0,a=t.autoTime;r.eq(0).addClass(t.cur),i.eq(0).addClass(t.cur);var f=function(){var e=n.find(".controler b.cur").next();e.length?e.click():i.eq(0).click()};i.click(function(){var t=e(this),n=t.index(),i=r.eq(n),s=i.find(".poster");s.attr("src",s.attr("data-src")),i.fadeIn().addClass("cur").siblings().fadeOut().removeClass("cur"),t.addClass("cur").siblings().removeClass("cur")}).hover(function(){s&&(o=!1)},function(){s&&(o=!0)}),r.hover(function(){s&&(o=!1)},function(){s&&(o=!0)}),window.setInterval(function(){o&&f()},a)},s="floatingAd",o={step:1,delay:50,isLinkClosed:!1,onClose:function(e){}},u={linkUrl:"#","z-index":"100","closed-icon":"",imgHeight:"",imgWidth:"",title:"",img:"#",linkWindow:"_blank",headFilter:.2};a.prototype={init:function(){var t=e(this.element),n=this.options,r=this,i=0,s=0;t.css({left:n.xPos+r.scrollX(),top:n.yPos+r.scrollY()}),n.fn=function(){n.width=e(window).width(),n.height=e(window).height(),i==r.scrollX()&&s==r.scrollY()&&(t.css({left:n.xPos+r.scrollX(),top:n.yPos+r.scrollY()}),n.yOn?n.yPos=n.yPos+n.step:n.yPos=n.yPos-n.step,n.yPos<=0&&(n.yOn=1,n.yPos=0),n.yPos>=n.height-n.hOffset&&(n.yOn=0,n.yPos=n.height-n.hOffset),n.xOn?n.xPos=n.xPos+n.step:n.xPos=n.xPos-n.step,n.xPos<=0&&(n.xOn=1,n.xPos=0),n.xPos>=n.width-n.wOffset&&(n.xOn=0,n.xPos=n.width-n.wOffset)),s=e(window).scrollTop(),i=e(window).scrollLeft()},this.run(t,n)},run:function(e,t){this.start(e,t),this.adEvent(e,t)},start:function(e,t){e.find("div.close").hide(),t.interval=window.setInterval(t.fn,t.delay),window.setTimeout(function(){e.show()},t.delay)},getRandomNum:function(e,t){var n=t-e,r=Math.random();return e+Math.round(r*n)},getPath:function(e){return e?0:1},clear:function(e,t){e.find("div.close").show(),window.clearInterval(t.interval)},close:function(e,t,n){e.unbind("hover"),e.hide(),n&&t.onClose.call(e)},adEvent:function(e,t){var n={elem:this,fn_close:function(){this.elem.close(e,t,!0)},fn_clear:function(){this.elem.options.isLinkClosed&&this.elem.close(e,t,!1)}};e.find("div.button").bind("click",jQuery.proxy(n,"fn_close")),e.find("a").bind("click",jQuery.proxy(n,"fn_clear"));var r={elem:this,over:function(){this.elem.clear(e,t)},out:function(){this.elem.start(e,t)}};e.hover(jQuery.proxy(r,"over"),jQuery.proxy(r,"out"))},scrollX:function(){var e=document.documentElement;return self.pageXOffset||e&&e.scrollLeft||document.body.scrollLeft},scrollY:function(){var e=document.documentElement;return self.pageYOffset||e&&e.scrollTop||document.body.scrollTop}},e.fn.floatingAd=function(t){return this.children("div").each(function(n,r){e.data(this,"plugin_"+s)||e.data(this,"plugin_"+s,new a(this,t))})},e.floatingAd=function(t){if(t){if(t.ad){var n=e("#"+s);n.length<=0&&(n=e("<div>",{id:s,"class":s}).appendTo("body"));for(var r in t.ad){var i=t.ad[r];i=e.extend({},u,i);var o=e("<div>",{"class":"ad"});o.css("z-index",i["z-index"]);var a=e("<div>",{"class":"open"});e("<div>",{"class":"opacity",style:"opacity: "+i.headFilter+";filter: alpha(opacity = "+i.headFilter*100+");"}).appendTo(a),e("<div>",{"class":"text"}).append(e("<div>",{"class":"title",text:i.title})).append(e("<div>",{"class":"button",style:i["closed-icon"]?'background:url("'+i["closed-icon"]+'") no-repeat;':""})).appendTo(a),a.appendTo(o);var f=i.pic;for(var r=0,l=f.length-1;r<l;r++){var c="";r==0?c=e('<div class="itemList no" >'):c=e('<div class="itemList" style="display:none;" >'),e("<a>",{href:i.pic[r].linkUrl,target:i.pic[r].linkWindow,title:i.pic[r].title}).append(e("<img>",{src:i.pic[r].img,style:(i.pic[r].imgHeight?"height:"+i.pic[0].imgHeight+"px;":"")+(i.pic[r].imgWidth?"width:"+i.pic[0].imgWidth+"px;":"")})).appendTo(c),c.appendTo(o)}c.appendTo(o),o.appendTo(n)}var h=e(".itemList"),p=h.size(),d=0,v=e(".open"),m=!0,g=function(){var e=h.eq(d);e.hasClass("no")&&(d=e.index()-1,d+=1,e.hide().removeClass("no"),h.eq(d).show().addClass("no"),d==p&&(d=0,h.eq(0).show().addClass("no"),h.eq(0).siblings().hide().removeClass("no"),v.show()))};setInterval(function(){m==1&&g()},1e3),h.hover(function(){m=!1},function(){m=!0}),delete t.ad,e("#"+s).floatingAd(t)}}else e.error("漂浮广告错误!")};var f=function(t){e.floatingAd(t)},l,c,h,p,d,v,m,g,y,b,w=0,E={},S=[],x=0,T={},N=[],C=null,k=new Image,L=/\.(jpg|gif|png|bmp|jpeg)(.*)?$/i,A=/[^\.]\.(swf)\s*$/i,O,M=1,_=0,D="",P,H,B=!1,j=e.extend(e("<div/>")[0],{prop:0}),F=e.browser.msie&&e.browser.version<7&&!window.XMLHttpRequest,I=function(){c.hide(),k.onerror=k.onload=null,C&&C.abort(),l.empty()},q=function(){if(!1===E.onError(S,w,E)){c.hide(),B=!1;return}E.titleShow=!1,E.width="auto",E.height="auto",l.html('<p id="fancybox-error">The requested content cannot be loaded.<br />Please try again later.</p>'),U()},R=function(){var t=S[w],n,r,i,s,o,u;I(),E=e.extend({},e.fn.fancybox.defaults,typeof e(t).data("fancybox")=="undefined"?E:e(t).data("fancybox")),u=E.onStart(S,w,E);if(u===!1){B=!1;return}typeof u=="object"&&(E=e.extend(E,u)),i=E.title||(t.nodeName?e(t).attr("title"):t.title)||"",t.nodeName&&!E.orig&&(E.orig=e(t).children("img:first").length?e(t).children("img:first"):e(t)),i===""&&E.orig&&E.titleFromAlt&&(i=E.orig.attr("alt")),n=E.href||(t.nodeName?e(t).attr("href"):t.href)||null;if(/^(?:javascript)/i.test(n)||n=="#")n=null;E.type?(r=E.type,n||(n=E.content)):E.content?r="html":n&&(n.match(L)?r="image":n.match(A)?r="swf":e(t).hasClass("iframe")?r="iframe":n.indexOf("#")===0?r="inline":r="ajax");if(!r){q();return}r=="inline"&&(t=n.substr(n.indexOf("#")),r=e(t).length>0?"inline":"ajax"),E.type=r,E.href=n,E.title=i,E.autoDimensions&&(E.type=="html"||E.type=="inline"||E.type=="ajax"?(E.width="auto",E.height="auto"):E.autoDimensions=!1),E.modal&&(E.overlayShow=!0,E.hideOnOverlayClick=!1,E.hideOnContentClick=!1,E.enableEscapeButton=!1,E.showCloseButton=!1),E.padding=parseInt(E.padding,10),E.margin=parseInt(E.margin,10),l.css("padding",E.padding+E.margin),e(".fancybox-inline-tmp").unbind("fancybox-cancel").bind("fancybox-change",function(){e(this).replaceWith(v.children())});switch(r){case"html":l.html(E.content),U();break;case"inline":if(e(t).parent().is("#fancybox-content")===!0){B=!1;return}e('<div class="fancybox-inline-tmp" />').hide().insertBefore(e(t)).bind("fancybox-cleanup",function(){e(this).replaceWith(v.children())}).bind("fancybox-cancel",function(){e(this).replaceWith(l.children())}),e(t).appendTo(l),U();break;case"image":B=!1,e.fancybox.showActivity(),k=new Image,k.onerror=function(){q()},k.onload=function(){B=!0,k.onerror=k.onload=null,z()},k.src=n;break;case"swf":E.scrolling="no",s='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="'+E.width+'" height="'+E.height+'"><param name="movie" value="'+n+'"></param>',o="",e.each(E.swf,function(e,t){s+='<param name="'+e+'" value="'+t+'"></param>',o+=" "+e+'="'+t+'"'}),s+='<embed src="'+n+'" type="application/x-shockwave-flash" width="'+E.width+'" height="'+E.height+'"'+o+"></embed></object>",l.html(s),U();break;case"ajax":B=!1,e.fancybox.showActivity(),E.ajax.win=E.ajax.success,C=e.ajax(e.extend({},E.ajax,{url:n,data:E.ajax.data||{},error:function(e,t,n){e.status>0&&q()},success:function(e,t,r){var i=typeof r=="object"?r:C;if(i.status==200){if(typeof E.ajax.win=="function"){u=E.ajax.win(n,e,t,r);if(u===!1){c.hide();return}if(typeof u=="string"||typeof u=="object")e=u}l.html(e),U()}}}));break;case"iframe":W()}},U=function(){var t=E.width,n=E.height;t.toString().indexOf("%")>-1?t=parseInt((e(window).width()-E.margin*2)*parseFloat(t)/100,10)+"px":t=t=="auto"?"auto":t+"px",n.toString().indexOf("%")>-1?n=parseInt((e(window).height()-E.margin*2)*parseFloat(n)/100,10)+"px":n=n=="auto"?"auto":n+"px",l.wrapInner('<div style="width:'+t+";height:"+n+";overflow: "+(E.scrolling=="auto"?"auto":E.scrolling=="yes"?"scroll":"hidden")+';position:relative;"></div>'),E.width=l.width(),E.height=l.height(),W()},z=function(){E.width=k.width,E.height=k.height,e("<img />").attr({id:"fancybox-img",src:k.src,alt:E.title}).appendTo(l),W()},W=function(){var t,n;c.hide();if(p.is(":visible")&&!1===T.onCleanup(N,x,T)){e.event.trigger("fancybox-cancel"),B=!1;return}B=!0,e(v.add(h)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),p.is(":visible")&&T.titlePosition!=="outside"&&p.css("height",p.height()),N=S,x=w,T=E,T.overlayShow?(h.css({"background-color":T.overlayColor,opacity:T.overlayOpacity,cursor:T.hideOnOverlayClick?"pointer":"auto",height:e(document).height()}),h.is(":visible")||(F&&e("select:not(#fancybox-tmp select)").filter(function(){return this.style.visibility!=="hidden"}).css({visibility:"hidden"}).one("fancybox-cleanup",function(){this.style.visibility="inherit"}),h.show())):h.hide(),H=Y(),V();if(p.is(":visible")){e(m.add(y).add(b)).hide(),t=p.position(),P={top:t.top,left:t.left,width:p.width(),height:p.height()},n=P.width==H.width&&P.height==H.height,v.fadeTo(T.changeFade,.3,function(){var t=function(){v.html(l.contents()).fadeTo(T.changeFade,1,J)};e.event.trigger("fancybox-change"),v.empty().removeAttr("filter").css({"border-width":T.padding,width:H.width-T.padding*2,height:E.autoDimensions?"auto":H.height-_-T.padding*2}),n?t():(j.prop=0,e(j).animate({prop:1},{duration:T.changeSpeed,easing:T.easingChange,step:Q,complete:t}))});return}p.removeAttr("style"),v.css("border-width",T.padding);if(T.transitionIn=="elastic"){P=et(),v.html(l.contents()),p.show(),T.opacity&&(H.opacity=0),j.prop=0,e(j).animate({prop:1},{duration:T.speedIn,easing:T.easingIn,step:Q,complete:J});return}T.titlePosition=="inside"&&_>0&&g.show(),v.css({width:H.width-T.padding*2,height:E.autoDimensions?"auto":H.height-_-T.padding*2}).html(l.contents()),p.css(H).fadeIn(T.transitionIn=="none"?0:T.speedIn,J)},X=function(e){return e&&e.length?T.titlePosition=="float"?'<table id="fancybox-title-float-wrap" cellpadding="0" cellspacing="0"><tr><td id="fancybox-title-float-left"></td><td id="fancybox-title-float-main">'+e+'</td><td id="fancybox-title-float-right"></td></tr></table>':'<div id="fancybox-title-'+T.titlePosition+'">'+e+"</div>":!1},V=function(){D=T.title||"",_=0,g.empty().removeAttr("style").removeClass();if(T.titleShow===!1){g.hide();return}D=e.isFunction(T.titleFormat)?T.titleFormat(D,N,x,T):X(D);if(!D||D===""){g.hide();return}g.addClass("fancybox-title-"+T.titlePosition).html(D).appendTo("body").show();switch(T.titlePosition){case"inside":g.css({width:H.width-T.padding*2,marginLeft:T.padding,marginRight:T.padding}),_=g.outerHeight(!0),g.appendTo(d),H.height+=_;break;case"over":g.css({marginLeft:T.padding,width:H.width-T.padding*2,bottom:T.padding}).appendTo(d);break;case"float":g.css("left",parseInt((g.width()-H.width-40)/2,10)*-1).appendTo(p);break;default:g.css({width:H.width-T.padding*2,paddingLeft:T.padding,paddingRight:T.padding}).appendTo(p)}g.hide()},$=function(){(T.enableEscapeButton||T.enableKeyboardNav)&&e(document).bind("keydown.fb",function(t){t.keyCode==27&&T.enableEscapeButton?(t.preventDefault(),e.fancybox.close()):(t.keyCode==37||t.keyCode==39)&&T.enableKeyboardNav&&t.target.tagName!=="INPUT"&&t.target.tagName!=="TEXTAREA"&&t.target.tagName!=="SELECT"&&(t.preventDefault(),e.fancybox[t.keyCode==37?"prev":"next"]())});if(!T.showNavArrows){y.hide(),b.hide();return}(T.cyclic&&N.length>1||x!==0)&&y.show(),(T.cyclic&&N.length>1||x!=N.length-1)&&b.show()},J=function(){e.support.opacity||(v.get(0).style.removeAttribute("filter"),p.get(0).style.removeAttribute("filter")),E.autoDimensions&&v.css("height","auto"),p.css("height","auto"),D&&D.length&&g.show(),T.showCloseButton&&m.show(),$(),T.hideOnContentClick&&v.bind("click",e.fancybox.close),T.hideOnOverlayClick&&h.bind("click",e.fancybox.close),e(window).bind("resize.fb",e.fancybox.resize),T.centerOnScroll&&e(window).bind("scroll.fb",e.fancybox.center),T.type=="iframe"&&e('<iframe id="fancybox-frame" name="fancybox-frame'+(new Date).getTime()+'" frameborder="0" hspace="0" '+(e.browser.msie?'allowtransparency="true""':"")+' scrolling="'+E.scrolling+'" src="'+T.href+'"></iframe>').appendTo(v),p.show(),B=!1,e.fancybox.center(),T.onComplete(N,x,T),K()},K=function(){var e,t;N.length-1>x&&(e=N[x+1].href,typeof e!="undefined"&&e.match(L)&&(t=new Image,t.src=e)),x>0&&(e=N[x-1].href,typeof e!="undefined"&&e.match(L)&&(t=new Image,t.src=e))},Q=function(e){var t={width:parseInt(P.width+(H.width-P.width)*e,10),height:parseInt(P.height+(H.height-P.height)*e,10),top:parseInt(P.top+(H.top-P.top)*e,10),left:parseInt(P.left+(H.left-P.left)*e,10)};typeof H.opacity!="undefined"&&(t.opacity=e<.5?.5:e),p.css(t),v.css({width:t.width-T.padding*2,height:t.height-_*e-T.padding*2})},G=function(){return[e(window).width()-T.margin*2,e(window).height()-T.margin*2,e(document).scrollLeft()+T.margin,e(document).scrollTop()+T.margin]},Y=function(){var e=G(),t={},n=T.autoScale,r=T.padding*2,i;return T.width.toString().indexOf("%")>-1?t.width=parseInt(e[0]*parseFloat(T.width)/100,10):t.width=T.width+r,T.height.toString().indexOf("%")>-1?t.height=parseInt(e[1]*parseFloat(T.height)/100,10):t.height=T.height+r,n&&(t.width>e[0]||t.height>e[1])&&(E.type=="image"||E.type=="swf"?(i=T.width/T.height,t.width>e[0]&&(t.width=e[0],t.height=parseInt((t.width-r)/i+r,10)),t.height>e[1]&&(t.height=e[1],t.width=parseInt((t.height-r)*i+r,10))):(t.width=Math.min(t.width,e[0]),t.height=Math.min(t.height,e[1]))),t.top=parseInt(Math.max(e[3]-20,e[3]+(e[1]-t.height-40)*.5),10),t.left=parseInt(Math.max(e[2]-20,e[2]+(e[0]-t.width-40)*.5),10),t},Z=function(e){var t=e.offset();return t.top+=parseInt(e.css("paddingTop"),10)||0,t.left+=parseInt(e.css("paddingLeft"),10)||0,t.top+=parseInt(e.css("border-top-width"),10)||0,t.left+=parseInt(e.css("border-left-width"),10)||0,t.width=e.width(),t.height=e.height(),t},et=function(){var t=E.orig?e(E.orig):!1,n={},r,i;return t&&t.length?(r=Z(t),n={width:r.width+T.padding*2,height:r.height+T.padding*2,top:r.top-T.padding-20,left:r.left-T.padding-20}):(i=G(),n={width:T.padding*2,height:T.padding*2,top:parseInt(i[3]+i[1]*.5,10),left:parseInt(i[2]+i[0]*.5,10)}),n},tt=function(){if(!c.is(":visible")){clearInterval(O);return}e("div",c).css("top",M*-40+"px"),M=(M+1)%12};e.fn.fancybox=function(t){return e(this).length?(e(this).data("fancybox",e.extend({},t,e.metadata?e(this).metadata():{})).unbind("click.fb").bind("click.fb",function(t){t.preventDefault();if(B)return;B=!0,e(this).blur(),S=[],w=0;var n=e(this).attr("rel")||"";!n||n==""||n==="nofollow"?S.push(this):(S=e("a[rel="+n+"], area[rel="+n+"]"),w=S.index(this)),R();return}),this):this},e.fancybox=function(t){var n;if(B)return;B=!0,n=typeof arguments[1]!="undefined"?arguments[1]:{},S=[],w=parseInt(n.index,10)||0;if(e.isArray(t)){for(var r=0,i=t.length;r<i;r++)typeof t[r]=="object"?e(t[r]).data("fancybox",e.extend({},n,t[r])):t[r]=e({}).data("fancybox",e.extend({content:t[r]},n));S=jQuery.merge(S,t)}else typeof t=="object"?e(t).data("fancybox",e.extend({},n,t)):t=e({}).data("fancybox",e.extend({content:t},n)),S.push(t);if(w>S.length||w<0)w=0;R()},e.fancybox.showActivity=function(){clearInterval(O),c.show(),O=setInterval(tt,66)},e.fancybox.hideActivity=function(){c.hide()},e.fancybox.next=function(){return e.fancybox.pos(x+1)},e.fancybox.prev=function(){return e.fancybox.pos(x-1)},e.fancybox.pos=function(e){if(B)return;e=parseInt(e),S=N,e>-1&&e<N.length?(w=e,R()):T.cyclic&&N.length>1&&(w=e>=N.length?0:N.length-1,R());return},e.fancybox.cancel=function(){if(B)return;B=!0,e.event.trigger("fancybox-cancel"),I(),E.onCancel(S,w,E),B=!1},e.fancybox.close=function(){function t(){h.fadeOut("fast"),g.empty().hide(),p.hide(),e.event.trigger("fancybox-cleanup"),v.empty(),T.onClosed(N,x,T),N=E=[],x=w=0,T=E={},B=!1}if(B||p.is(":hidden"))return;B=!0;if(T&&!1===T.onCleanup(N,x,T)){B=!1;return}I(),e(m.add(y).add(b)).hide(),e(v.add(h)).unbind(),e(window).unbind("resize.fb scroll.fb"),e(document).unbind("keydown.fb"),v.find("iframe").attr("src",F&&/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank"),T.titlePosition!=="inside"&&g.empty(),p.stop();if(T.transitionOut=="elastic"){P=et();var n=p.position();H={top:n.top,left:n.left,width:p.width(),height:p.height()},T.opacity&&(H.opacity=1),g.empty().hide(),j.prop=1,e(j).animate({prop:0},{duration:T.speedOut,easing:T.easingOut,step:Q,complete:t})}else p.fadeOut(T.transitionOut=="none"?0:T.speedOut,t)},e.fancybox.resize=function(){h.is(":visible")&&h.css("height",e(document).height()),e.fancybox.center(!0)},e.fancybox.center=function(){var e,t;if(B)return;t=arguments[0]===!0?1:0,e=G();if(!t&&(p.width()>e[0]||p.height()>e[1]))return;p.stop().animate({top:parseInt(Math.max(e[3]-20,e[3]+(e[1]-v.height()-40)*.5-T.padding)),left:parseInt(Math.max(e[2]-20,e[2]+(e[0]-v.width()-40)*.5-T.padding))},typeof arguments[0]=="number"?arguments[0]:200)},e.fancybox.init=function(){if(e("#fancybox-wrap").length)return;e("body").append(l=e('<div id="fancybox-tmp"></div>'),c=e('<div id="fancybox-loading"><div></div></div>'),h=e('<div id="fancybox-overlay"></div>'),p=e('<div id="fancybox-wrap"></div>')),d=e('<div id="fancybox-outer"></div>').append('<div class="fancybox-bg" id="fancybox-bg-n"></div><div class="fancybox-bg" id="fancybox-bg-ne"></div><div class="fancybox-bg" id="fancybox-bg-e"></div><div class="fancybox-bg" id="fancybox-bg-se"></div><div class="fancybox-bg" id="fancybox-bg-s"></div><div class="fancybox-bg" id="fancybox-bg-sw"></div><div class="fancybox-bg" id="fancybox-bg-w"></div><div class="fancybox-bg" id="fancybox-bg-nw"></div>').appendTo(p),d.append(v=e('<div id="fancybox-content"></div>'),m=e('<a id="fancybox-close"></a>'),g=e('<div id="fancybox-title"></div>'),y=e('<a href="javascript:;" id="fancybox-left"><span class="fancy-ico" id="fancybox-left-ico"></span></a>'),b=e('<a href="javascript:;" id="fancybox-right"><span class="fancy-ico" id="fancybox-right-ico"></span></a>')),m.click(e.fancybox.close),c.click(e.fancybox.cancel),y.click(function(t){t.preventDefault(),e.fancybox.prev()}),b.click(function(t){t.preventDefault(),e.fancybox.next()}),e.fn.mousewheel&&p.bind("mousewheel.fb",function(t,n){if(B)t.preventDefault();else if(e(t.target).get(0).clientHeight==0||e(t.target).get(0).scrollHeight===e(t.target).get(0).clientHeight)t.preventDefault(),e.fancybox[n>0?"prev":"next"]()}),e.support.opacity||p.addClass("fancybox-ie"),F&&(c.addClass("fancybox-ie6"),p.addClass("fancybox-ie6"),e('<iframe id="fancybox-hide-sel-frame" src="'+(/^https/i.test(window.location.href||"")?"javascript:void(false)":"about:blank")+'" scrolling="no" border="0" frameborder="0" tabindex="-1"></iframe>').prependTo(d))},e.fn.fancybox.defaults={padding:10,margin:40,opacity:!1,modal:!1,cyclic:!1,scrolling:"auto",width:560,height:340,autoScale:!0,autoDimensions:!0,centerOnScroll:!1,ajax:{},swf:{wmode:"transparent"},hideOnOverlayClick:!0,hideOnContentClick:!1,overlayShow:!0,overlayOpacity:.7,overlayColor:"#777",titleShow:!0,titlePosition:"float",titleFormat:null,titleFromAlt:!1,transitionIn:"fade",transitionOut:"fade",speedIn:300,speedOut:300,changeSpeed:300,changeFade:"fast",easingIn:"swing",easingOut:"swing",showCloseButton:!0,showNavArrows:!0,enableEscapeButton:!0,enableKeyboardNav:!0,onStart:function(){},onCancel:function(){},onComplete:function(){},onCleanup:function(){},onClosed:function(){},onError:function(){}},e(document).ready(function(){e.fancybox.init()});var nt=function(t,n){n==undefined?e(t).fancybox():e(t).fancybox(n)},rt=null,it,st=!0,ot={w:"请输入正确信息！",s:"请填入信息！"},ut=function(){if(e("#validform_dialog").length!==0)return!1;it=e('<div id="validform_dialog"><div class="validform_title">提示信息<a class="validform_close" href="javascript:void(0);">&chi;</a></div><div class="validform_info"></div></div>').appendTo("body"),it.find("a.validform_close").click(function(){return it.hide(),st=!0,rt&&rt.focus().addClass("validform_error"),!1}).focus(function(){this.blur()}),e(window).bind("scroll resize",function(){if(!st){var t=(e(window).width()-it.width())/2,n=(e(window).height()-it.height())/2,r=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(n>0?n:0);it.animate({left:t,top:r},{duration:400,queue:!1})}})};e.fn.validform=function(t){var n={};t=e.extend({},e.fn.validform.sn.defaults,t),this.each(function(){var n=e(this);n.find("[tip]").each(function(){var t=e(this).attr("tip"),n=e(this).attr("altercss");e(this).focus(function(){e(this).val()==t&&(e(this).val(""),n&&e(this).removeClass(n))}).blur(function(){e.trim(e(this).val())===""&&(e(this).val(t),n&&e(this).addClass(n))})}),n.find("[datatype]").blur(function(){var r=!0;r=e.fn.validform.sn.checkform(e(this),n,t.tiptype,"hide",t.rightinfo);if(!r)return!1;if(typeof r!="boolean")return e(this).removeClass("validform_error"),!1;r=e.fn.validform.sn.regcheck(e(this));if(!r){if(e(this).attr("ignore")==="ignore"&&(e(this).val()===""||e(this).val()===e(this).attr("tip")))return t.tiptype==2&&e(this).parent().next().find(".Validform_checktip").removeClass().addClass("Validform_checktip").text(e(this).attr("tip")),r=!0,!0;rt=e(this),e.fn.validform.sn.showmsg(e(this).attr("errormsg")||ot.w,t.tiptype,{obj:e(this)},"hide")}else rt=null,t.rightinfo?e.fn.validform.sn.showmsg(t.rightinfo,t.tiptype,{obj:e(this),type:2},"hide"):e.fn.validform.sn.showmsg("",t.tiptype,{obj:e(this),type:1},"hide")})}),t.tiptype!=2&&ut()},e.fn.submitvalidform=function(t){var n={};t=e.extend({},e.fn.validform.sn.defaults,t),t.tiptype!=2&&ut(),this.each(function(){var n=e(this),r=!0;n.find("[datatype]").each(function(){r=e.fn.validform.sn.checkform(e(this),n,t.tiptype,t.rightinfo);if(!r)return!1;if(typeof r!="boolean")return r=!0,!0;r=e.fn.validform.sn.regcheck(e(this));if(!r)return e(this).attr("ignore")!=="ignore"||e(this).val()!==""&&e(this).val()!==e(this).attr("tip")?(rt=e(this),rt.focus(),e.fn.validform.sn.showmsg(e(this).attr("errormsg")||ot.w,t.tiptype,{obj:e(this)}),!1):(r=!0,!0);rt=null,t.rightinfo?e.fn.validform.sn.showmsg(t.rightinfo,t.tiptype,{obj:e(this),type:2},"hide"):e.fn.validform.sn.showmsg("",t.tiptype,{obj:e(this),type:1},"hide")})})},e.fn.resetform=function(){var t=e(this);t.find(".validform_checktip").removeClass().addClass("validform_checktip").text(""),t.find(".validform_error").removeClass("validform_error")},e.fn.validform.sn={defaults:{tiptype:1},regcheck:function(t){var n,r=t.attr("datatype"),i=t.val();switch(r){case"*":return!0;case"num":return!isNaN(i);case"mobile":return n=/^13[0-9]{1}[0-9]{8}$|15[0189]{1}[0-9]{8}$|18[0-9]{1}[0-9]{8}$|14[0-9]{1}[0-9]{8}$/,n.test(i);case"shenfenzheng":return n=/^(\d{15}|\d{18}|\d{17}[a-zA-Z]{1})$/,n.test(i);case"length":var s=t.attr("lengthmin");isNaN(s)&&(s=0);var o=t.attr("lengthmax");isNaN(o)&&(o=100);var u=e.trim(i).length;return u>=s&&u<=o?!0:!1;case"bankcard":return n=/^[\d]{16,19}$/,n.test(i);case"email":return n=/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/,n.test(i);default:return!1}},showmsg:function(t,n,r,i){rt&&rt.addClass("validform_error"),(n==1||i=="alwaysshow")&&it.find(".validform_info").text(t);if(n==1&&i!="hide"||i=="alwaysshow"){st=!1;var s=(e(window).width()-it.width())/2,o=(e(window).height()-it.height())/2;o=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(o>0?o:0),it.css({left:s}).show().animate({top:o},100)}if(n==2)if(r.type)switch(r.type){case 1:r.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_checktip").text("");break;case 2:r.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_checktip validform_right").text(t)}else r.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_wrong validform_checktip").text(t)},checkform:function(e,t,n,r,i){var s=e.attr("errormsg")||ot.w;if(e.is("[datatype='radio']")){var o=e.attr("name"),u=t.find(":radio[name="+o+"]:checked").val();return u?(rt=null,i?this.showmsg(i,n,{obj:e,type:2},"hide"):this.showmsg("",n,{obj:e,type:1},"hide"),"radio"):(rt=e,this.showmsg(s,n,{obj:e},r),!1)}if(e.is("[datatype='checkbox']")){var o=e.attr("name"),a=t.find(":checkbox[name="+o+"]:checked").val();return a?(rt=null,i?this.showmsg(i,n,{obj:e,type:2},"hide"):this.showmsg("",n,{obj:e,type:1},"hide"),"checkbox"):(rt=e,this.showmsg(s,n,{obj:e},r),!1)}if(e.is("[datatype='select']"))return e.val()?(rt=null,i?this.showmsg(i,n,{obj:e,type:2},"hide"):this.showmsg("",n,{obj:e,type:1},"hide"),"select"):(rt=e,this.showmsg(s,n,{obj:e},r),!1);var f=e.attr("tip");if(e.val()!==""&&e.val()!==f||e.attr("ignore")=="ignore"){if(e.attr("recheck")){var l=t.find("input[name="+e.attr("recheck")+"]:first");if(e.val()!=l.val())return rt=e,this.showmsg(s,n,{obj:e},r),!1}return e.removeClass("validform_error"),rt=null,!0}return rt=e,this.showmsg(e.attr("nullmsg")||ot.s,n,{obj:e},r),!1}},e.Showmsg=function(t){ut(),e.fn.validform.sn.showmsg(t,1)},e.Hidemsg=function(){it.hide(),st=!0},e.fn.productScroll=function(t){var n={scrollnum:1,timer:4e3,hidebtn:1,prevclassname:"js_scroll_prev",nextclassname:"js_scroll_next",scrolldirect:0,istoscroll:1};return e.extend(n,t),this.each(function(){function p(e){if(c<0)return;h=e,n.scrolldirect?r.stop(!0,!1).animate({top:e?-c:0},{duration:n.timer,step:d,complete:d}):r.stop(!0,!1).animate({left:e?-c:0},{duration:n.timer,step:d,complete:d})}function d(){var e=r.css("left");n.scrolldirect&&(e=r.css("top")),e=="auto"&&(e=0),e=parseFloat(e),i.show(),s.show(),e>=0&&n.hidebtn&&i.hide(),e<=-c&&n.hidebtn&&s.hide()}var t=e(this),r=t.find("ul"),i=t.parent().find("."+n.prevclassname),s=t.parent().find("."+n.nextclassname),o=t.width();n.scrolldirect&&(o=t.height());var u=t.offset().left;n.scrolldirect&&(u=t.offset().top);var a=r.find("li").size(),f=r.find("li").eq(0).outerWidth();n.scrolldirect&&(f=r.find("li").eq(0).outerHeight());var l=f*n.scrollnum,c=f*a-o,h=0;n.istoscroll&&t.on({mouseenter:function(e){n.scrolldirect?p(e.pageY-u<o/2?0:1):p(e.pageX-u<o/2?0:1),p(e.pageX-u<o/2?0:1)},mousemove:function(e){n.scrolldirect?(e.pageY-u<o/2&&h==1&&p(0),e.pageY-u>o/2&&h==0&&p(1)):(e.pageX-u<o/2&&h==1&&p(0),e.pageX-u>o/2&&h==0&&p(1))},mouseleave:function(e){if(n.scrolldirect){var t=parseFloat(r.css("top")),i=Math[h?"floor":"ceil"](t/f);r.stop(!0,!1).animate({top:f*i},{duration:"fast",step:d,complete:d})}else{var t=parseFloat(r.css("left")),i=Math[h?"floor":"ceil"](t/f);r.stop(!0,!1).animate({left:f*i},{duration:"fast",step:d,complete:d})}}}),i.click(function(){if(r.filter(":animated").length)return;var t=e(this),i=parseFloat(r.css("left"));n.scrolldirect&&(i=parseFloat(r.css("top")));var o=i+l;s.show(),i<="-"+l?n.scrolldirect?r.animate({top:o},300):r.animate({left:o},300):(n.hidebtn&&t.hide(),n.scrolldirect?r.animate({top:0},300):r.animate({left:0},300))}),s.click(function(){if(r.filter(":animated").length)return;var t=e(this),s=parseFloat(r.css("left"));n.scrolldirect&&(s=parseFloat(r.css("top"))),isNaN(s)&&(s=0);var u=s-l;i.show(),f*a+s>=o+1+l?n.scrolldirect?r.animate({top:u},300):r.animate({left:u},300):(n.hidebtn&&t.hide(),n.scrolldirect?r.animate({top:"-"+c},300):r.animate({left:"-"+c},300))}),d()})};var at=null,ft=null,lt=null,ct=0,ht=null,pt=null,dt=0,vt=0,mt=0,gt=function(){ft=lt.replace("[n]",vt-1>0?"_"+(vt-1):"")},yt=function(){pt.html("");for(var e=0;e<at.length;e++)pt.append(insertItem(at[e]));(new wt).render()},bt=function(){gt(),e.ajax({type:"get",dataType:"xml",url:ft,cache:!1,async:!1,success:function(t){at=e(t).find("item"),ct=e(t).find("pageCount").text(),mt=e(t).find("record_Count").text(),yt()},error:function(e){at=null}})},wt=function(){var e=this;this._start=1,this._end=1,this._calculate=function(){ct<5&&(dt=ct),vt=parseInt(vt),vt>ct&&(vt=ct),vt<1&&(vt=1),e._start=Math.max(1,vt-parseInt(dt/2)),e._end=Math.min(ct,e._start+dt-1),e._start=Math.max(1,e._end-dt+1)},this.render=function(){e._calculate();var t="",n=vt;t+='<span class="paginations">',1!=n&&(t+='<span class="n"><a href="javascript:;" page='+(n-1)+' class="hi_bl"><b>上一页</b></a></span>'),t+='<span class="p"> ',1!=n&&(t+='<a href="javascript:;" page="1">1</a>');var r=4;ct<6&&(r=5),n>r&&(t+='<a href="javascript:;">...</a>');for(var i=e._start;i<=e._end;i++)i==n?t+="<em>"+i+"</em>":i!=1&&i!=ct&&(t+='<a href="javascript:;" page="'+i+'">'+i+"</a>");var s=3;ct<6&&(s=5),n+s<ct&&(t+='<a href="javascript:;">...</a>'),n!=ct&&(t+='<a href="javascript:;" page="'+ct+'">'+ct+"</a>"),t+="</span>",ct!=n&&(t+='<span class="n"><a href="javascript:;" page='+(n+1)+' class="hi_br"><b>下一页</b></a></span>'),t+="</span>",t+=" 共计 "+mt+" 当前"+n+" / "+ct,ht.html(t);var o=ht.find("a");for(var i=0;i<o.length;i++)o[i].onclick=function(){var e=this.getAttribute("page");e!=undefined&&e!=""&&(vt=e,bt())}}},Et=function(e,t,n){dt=5,lt=e,ht=t,pt=n,at=null,ft=null,ct=0,vt=0,bt()},St=function(e){var t=window.location.search;if(t.indexOf(e)!=-1){var n=t.indexOf(e)+e.length+1,r=t.indexOf("&",n);return r==-1?t.substring(n):t.substring(n,r)}return""},xt=function(t,n,r,i){t.each(function(t){var s=e(this);t==0&&(s.addClass(r),n.eq(t).show()),s.click(function(){if(i){var t=s.parent(),o=t.index(),u=s.attr("rel");e.ajax({type:"get",dataType:"html",url:u,cache:!1,async:!1,success:function(e){s.addClass(r),t.siblings().find("a").removeClass(r),n.html(e)},error:function(e){}})}else{var t=s.parent(),o=t.index();s.addClass(r),t.siblings().find("a").removeClass(r),n.eq(o).show().siblings().hide()}})})},Tt=function(t,n,r){var i=e(".js_kv_item li"),s=e(".js_kv_nav li"),o=i
.size(),u=r,a=t,f=n;i.each(function(){var t=e(this),n=t.data("kv_bg");t.attr("style","background-image:url('"+n+"')")}),s.parent().css({width:o*u+"px","margin-left":-o*u/2+"px"}),s.each(function(t){var n=e(this);t==0&&n.addClass("current"),n.click(function(){var e=n.index();i.eq(e).fadeIn().siblings().fadeOut(),n.addClass("current").siblings().removeClass("current")})});var l=function(){var e=s.filter(".current").index();i.eq(e+1).fadeIn().siblings().fadeOut(),s.eq(e+1).addClass("current").siblings().removeClass("current"),e==o-1&&(i.eq(0).fadeIn().siblings().fadeOut(),s.eq(0).addClass("current").siblings().removeClass("current"))},c=setInterval(function(){f==1&&l()},a);s.hover(function(){n&&(f=!1)},function(){n&&(f=!0)})},Nt=e.browser,F=function(){return Nt.msie&&Nt.version==="6.0"},Ct=function(e,t,n){var r="qd_fix_"+t;e.hasClass(r)||(e.addClass(r),!n||n(r))},kt={auto:"0px"},Lt={},At=function(t,n){var r=Lt[t],i={},s="";r||(r=Lt[t]={}),s=i[n]=t.css(n),F&&(i[n]=kt[s]||s),e.extend(r,i)},Ot={},Mt=["top","bottom","left","right","center","middle"],_t={top:"left",bottom:"left",left:"top",right:"top",center:"top",middle:"left"};e.each(Mt,function(e,t){Ot[t]=t==="center"?function(e){Ct(e,t,function(){At(e,"margin-left"),e.css("margin-left","-"+e.width()/2+"px")})}:t==="middle"?function(e){Ct(e,t,function(){At(e,"margin-top"),e.css("margin-top","-"+e.height()/2+"px")})}:function(e){Ct(e,t)}}),Ot.abs=function(e,t,n){At(e,t),F()?t==="top"?e.attr("style","top:expression((topwindowscroll=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)+"+n+"+'px' )"):e.get(0).style[t]=n+"px":e.get(0).style[t]=n+"px"};var Dt=function(t,n,r){var i=n.split(","),s=0,o=e("#"+t),u="",a=!1;fn=null,o.hasClass("qd_fix")||o.addClass("qd_fix");try{for(;s<2;s++){n=i[s],fn=Ot[n];if(!!n&&!!fn){fn(o),a=!0;continue}n=parseInt(n);if(isNaN(n))continue;u=a&&i[0]||s&&"top"||"left",u=_t[u],!u||Ot.abs(o,u,n)}}catch(f){throw new Error(f)}!r||o.addClass(r)},Pt=function(t,n,r){var i=n&&n.split(",")||Mt,s=0,o=i.length,u=e("#"+t),a=Lt[u];u.removeClass("qd_fix");for(;s<o;s++)n=i[s],!n||u.removeClass("qd_fix_"+n);!r||u.removeClass(r),u.css(a),delete Lt[u]},Ht=function(e,t,n){if(!e)return alert("idobj is null"),!1;e.validform({tiptype:t,rightinfo:n})},Bt=function(e,t,n){if(!e)return alert("idobj is null"),!1;e.submitvalidform({tiptype:t,rightinfo:n})},jt=function(e){if(!e)return alert("idobj is null"),!1;e.resetform(),e[0].reset()},Ft=function(e,t,n,r,i,s,o,u){if(!e)return alert("idobj is null"),!1;e.productScroll({scrollnum:t,timer:n,hidebtn:r,prevclassname:i,nextclassname:s,scrolldirect:o,istoscroll:u})};window.TRS={Page:Et,getValue:St,ChangeTab:xt,Carousel:Tt,fix:Dt,fixRemove:Pt,openWindow:nt,ValidForm:Ht,SubmitValidForm:Bt,ResetForm:jt,floatingAd:f,Scroll:Ft,imgZoom:r,focusMap:i}})(jQuery)
