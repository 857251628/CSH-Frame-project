(function(d){var e=null,c,b=true,a={w:"请输入正确信息！",s:"请填入信息！"},f=function(){if(d("#validform_dialog").length!==0){return false}c=d('<div id="validform_dialog"><div class="validform_title">提示信息<a class="validform_close" href="javascript:void(0);">&chi;</a></div><div class="validform_info"></div></div>').appendTo("body");c.find("a.validform_close").click(function(){c.hide();b=true;if(e){e.focus().addClass("validform_error")}return false}).focus(function(){this.blur()});d(window).bind("scroll resize",function(){if(!b){var i=(d(window).width()-c.width())/2;var h=(d(window).height()-c.height())/2;var g=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(h>0?h:0);c.animate({left:i,top:g},{duration:400,queue:false})}})};d.fn.validform=function(g){var h={};g=d.extend({},d.fn.validform.sn.defaults,g);this.each(function(){var i=d(this);i.find("[tip]").each(function(){var k=d(this).attr("tip");var j=d(this).attr("altercss");d(this).focus(function(){if(d(this).val()==k){d(this).val("");if(j){d(this).removeClass(j)}}}).blur(function(){if(d.trim(d(this).val())===""){d(this).val(k);if(j){d(this).addClass(j)}}})});i.find("[datatype]").blur(function(){var j=true;j=d.fn.validform.sn.checkform(d(this),i,g.tiptype,"hide",g.rightinfo);if(!j){return false}if(typeof(j)!="boolean"){d(this).removeClass("validform_error");return false}j=d.fn.validform.sn.regcheck(d(this));if(!j){if(d(this).attr("ignore")==="ignore"&&(d(this).val()===""||d(this).val()===d(this).attr("tip"))){if(g.tiptype==2){d(this).parent().next().find(".Validform_checktip").removeClass().addClass("Validform_checktip").text(d(this).attr("tip"))}j=true;return true}e=d(this);d.fn.validform.sn.showmsg(d(this).attr("errormsg")||a.w,g.tiptype,{obj:d(this)},"hide")}else{e=null;if(g.rightinfo){d.fn.validform.sn.showmsg(g.rightinfo,g.tiptype,{obj:d(this),type:2},"hide")}else{d.fn.validform.sn.showmsg("",g.tiptype,{obj:d(this),type:1},"hide")}}})});if(g.tiptype!=2){f()}};d.fn.submitvalidform=function(g){var h={};g=d.extend({},d.fn.validform.sn.defaults,g);if(g.tiptype!=2){f()}this.each(function(){var j=d(this);var i=true;j.find("[datatype]").each(function(){i=d.fn.validform.sn.checkform(d(this),j,g.tiptype,g.rightinfo);if(!i){return false}if(typeof(i)!="boolean"){i=true;return true}i=d.fn.validform.sn.regcheck(d(this));if(!i){if(d(this).attr("ignore")==="ignore"&&(d(this).val()===""||d(this).val()===d(this).attr("tip"))){i=true;return true}e=d(this);e.focus();d.fn.validform.sn.showmsg(d(this).attr("errormsg")||a.w,g.tiptype,{obj:d(this)});return false}else{e=null;if(g.rightinfo){d.fn.validform.sn.showmsg(g.rightinfo,g.tiptype,{obj:d(this),type:2},"hide")}else{d.fn.validform.sn.showmsg("",g.tiptype,{obj:d(this),type:1},"hide")}}})})};d.fn.resetform=function(){var g=d(this);g.find(".validform_checktip").removeClass().addClass("validform_checktip").text("");g.find(".validform_error").removeClass("validform_error")};d.fn.validform.sn={defaults:{tiptype:1},regcheck:function(h){var k;var j=h.attr("datatype");var m=h.val();switch(j){case"*":return true;case"num":return !isNaN(m);case"mobile":k=/^13[0-9]{1}[0-9]{8}$|15[0189]{1}[0-9]{8}$|18[0-9]{1}[0-9]{8}$|14[0-9]{1}[0-9]{8}$/;return k.test(m);case"shenfenzheng":k=/^(\d{15}|\d{18}|\d{17}[a-zA-Z]{1})$/;return k.test(m);case"length":var g=h.attr("lengthmin");isNaN(g)&&(g=0);var l=h.attr("lengthmax");isNaN(l)&&(l=100);var i=d.trim(m).length;if(i>=g&&i<=l){return true}else{return false}case"bankcard":k=/^[\d]{16,19}$/;return k.test(m);case"email":k=/\w+([-+.']\w+)*@\w+([-.]\w+)*\.\w+([-.]\w+)*/;return k.test(m);default:return false}},showmsg:function(l,h,k,g){if(e){e.addClass("validform_error")}if(h==1||g=="alwaysshow"){c.find(".validform_info").text(l)}if(h==1&&g!="hide"||g=="alwaysshow"){b=false;var j=(d(window).width()-c.width())/2;var i=(d(window).height()-c.height())/2;i=(document.documentElement.scrollTop?document.documentElement.scrollTop:document.body.scrollTop)+(i>0?i:0);c.css({left:j}).show().animate({top:i},100)}if(h==2){if(k.type){switch(k.type){case 1:k.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_checktip").text("");break;case 2:k.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_checktip validform_right").text(l)}}else{k.obj.parent().next().find(".validform_checktip").removeClass().addClass("validform_wrong validform_checktip").text(l)}}},checkform:function(k,j,g,p,l){var m=k.attr("errormsg")||a.w;if(k.is("[datatype='radio']")){var i=k.attr("name");var o=j.find(":radio[name="+i+"]:checked").val();if(!o){e=k;this.showmsg(m,g,{obj:k},p);return false}e=null;if(l){this.showmsg(l,g,{obj:k,type:2},"hide")}else{this.showmsg("",g,{obj:k,type:1},"hide")}return"radio"}if(k.is("[datatype='checkbox']")){var i=k.attr("name");var n=j.find(":checkbox[name="+i+"]:checked").val();if(!n){e=k;this.showmsg(m,g,{obj:k},p);return false}e=null;if(l){this.showmsg(l,g,{obj:k,type:2},"hide")}else{this.showmsg("",g,{obj:k,type:1},"hide")}return"checkbox"}if(k.is("[datatype='select']")){if(!k.val()){e=k;this.showmsg(m,g,{obj:k},p);return false}e=null;if(l){this.showmsg(l,g,{obj:k,type:2},"hide")}else{this.showmsg("",g,{obj:k,type:1},"hide")}return"select"}var q=k.attr("tip");if((k.val()===""||k.val()===q)&&k.attr("ignore")!="ignore"){e=k;this.showmsg(k.attr("nullmsg")||a.s,g,{obj:k},p);return false}if(k.attr("recheck")){var h=j.find("input[name="+k.attr("recheck")+"]:first");if(k.val()!=h.val()){e=k;this.showmsg(m,g,{obj:k},p);return false}}k.removeClass("validform_error");e=null;return true}};d.Showmsg=function(g){f();d.fn.validform.sn.showmsg(g,1)};d.Hidemsg=function(){c.hide();b=true}})(jQuery);(function(a){a.fn.productScroll=function(b){var c={scrollnum:1,timer:4000,hidebtn:1,prevclassname:"js_scroll_prev",nextclassname:"js_scroll_next",scrolldirect:0,istoscroll:1};a.extend(c,b);return this.each(function(){var f=a(this);var k=f.find("ul");var h=f.parent().find("."+c.prevclassname);var l=f.parent().find("."+c.nextclassname);var g=f.width();if(c.scrolldirect){g=f.height()}var d=f.offset().left;if(c.scrolldirect){d=f.offset().top}var i=k.find("li").size();var e=k.find("li").eq(0).outerWidth();if(c.scrolldirect){e=k.find("li").eq(0).outerHeight()}var p=e*c.scrollnum;var j=e*i-g;var n=0;if(c.istoscroll){f.on({mouseenter:function(q){if(c.scrolldirect){o(q.pageY-d<(g/2)?0:1)}else{o(q.pageX-d<(g/2)?0:1)}o(q.pageX-d<(g/2)?0:1)},mousemove:function(q){if(c.scrolldirect){if(q.pageY-d<(g/2)&&n==1){o(0)}if(q.pageY-d>(g/2)&&n==0){o(1)}}else{if(q.pageX-d<(g/2)&&n==1){o(0)}if(q.pageX-d>(g/2)&&n==0){o(1)}}},mouseleave:function(s){if(c.scrolldirect){var q=parseFloat(k.css("top")),r=Math[n?"floor":"ceil"](q/e);k.stop(true,false).animate({top:e*r},{duration:"fast",step:m,complete:m})}else{var q=parseFloat(k.css("left")),r=Math[n?"floor":"ceil"](q/e);k.stop(true,false).animate({left:e*r},{duration:"fast",step:m,complete:m})}}})}h.click(function(){if(k.filter(":animated").length){return}var r=a(this);var q=parseFloat(k.css("left"));if(c.scrolldirect){q=parseFloat(k.css("top"))}var s=q+p;l.show();if(q<="-"+p){if(c.scrolldirect){k.animate({top:s},300)}else{k.animate({left:s},300)}}else{if(c.hidebtn){r.hide()}if(c.scrolldirect){k.animate({top:0},300)}else{k.animate({left:0},300)}}});l.click(function(){if(k.filter(":animated").length){return}var r=a(this);var q=parseFloat(k.css("left"));if(c.scrolldirect){q=parseFloat(k.css("top"))}isNaN(q)&&(q=0);var s=q-p;h.show();if((e*i+q)>=(g+1+p)){if(c.scrolldirect){k.animate({top:s},300)}else{k.animate({left:s},300)}}else{if(c.hidebtn){r.hide()}if(c.scrolldirect){k.animate({top:"-"+j},300)}else{k.animate({left:"-"+j},300)}}});function o(q){if(j<0){return}n=q;if(c.scrolldirect){k.stop(true,false).animate({top:q?-j:0},{duration:c.timer,step:m,complete:m})}else{k.stop(true,false).animate({left:q?-j:0},{duration:c.timer,step:m,complete:m})}}function m(){var q=k.css("left");if(c.scrolldirect){q=k.css("top")}q=="auto"&&(q=0);q=parseFloat(q);h.show();l.show();if(q>=0&&c.hidebtn){h.hide()}if(q<=-j&&c.hidebtn){l.hide()}}m()})}})(jQuery);$.extend({openQDWin:function(e){var b,a,c;var d={width:400,height:250,bgvisibel:false,title:"",html:"please fill content"};$.extend(d,e);d.qd_locked="qd_locked";$(document).ready(function(l){$(".qd_container").remove();$(".qd_backlayer").remove();$(".qd_ie6_popup_bgframe").remove();var g=d.width?d.width:400;var n=d.height?d.height:250;var o=$('<div class="qd_backlayer" style="display:none;">&nbsp;</div><div class="qd_container" style="width:'+g+"px;height:"+n+'px;display:none;"><div class="qd_inside" style="height:'+n+'px;"><span class="qd_locked" onselectstart="return false;">'+(d.title?d.title:"")+'<a class="close" href="javascript:void(0);"></a></span></div></div>');$(d.html).show();o.find(".qd_inside").append((d.iframe?'<iframe name="qd_win_iframe" id="qd_win_iframe" class="qd_iframe" src="'+d.iframe+'" frameborder="0" width="100%" scrolling="yes" style="border:none;overflow-x:hidden;height:'+parseInt(n-30)+'px;"></iframe>':d.html?d.html:""));$("body").append(o);if($.browser.msie&&$.browser.version=="6.0"&&!$.support.style){$("body").append('<iframe class="qd_ie6_popup_bgframe" style="display:none;"></iframe>')}if(d.bgvisibel){$(".qd_backlayer").fadeTo("slow",0.5);$(".qd_ie6_popup_bgframe").show()}$(".qd_container").css({display:"block"});$("."+d.qd_locked+" .close").click(function(){$(".qd_container").css({display:"none"});$(".qd_backlayer").css({display:"none"});$(".qd_ie6_popup_bgframe").css({display:"none"})});if($.browser.msie&&($.browser.version=="6.0"||$.browser.version=="7.0")&&!$.support.style){$("#qd_win_iframe").attr("src",d.iframe)}var j=parseInt(g/2);var f=parseInt(n/2);var i=parseInt($(window).width()/2);var k=parseInt($(window).height()/2.2);var h=i-j;var m=k-f;$(".qd_container").css({left:h,top:m});$("."+d.qd_locked).mousedown(function(p){if(p.which){c=true;b=p.pageX-parseInt($(".qd_container").css("left"));a=p.pageY-parseInt($(".qd_container").css("top"))}})}).mousemove(function(g){if(c){var f=g.pageX-b;var h=g.pageY-a;$(".qd_container").css({left:f});$(".qd_container").css({top:h})}}).mouseup(function(){c=false})}});(function(f){var m=null;var l=null;var h=null;var i=0;var g=null;var j=null;var y=0;var x=0;var p=0;var F=function(){l=h.replace("[n]",(x-1)>0?"_"+(x-1):"")};var o=function(){j.html("");for(var I=0;I<m.length;I++){j.append(insertItem(m[I]))}new z().render()};var C=function(){F();f.ajax({type:"get",dataType:"xml",url:l,cache:false,async:false,success:function(I){m=f(I).find("item");i=f(I).find("pageCount").text();p=f(I).find("record_Count").text();o()},error:function(I){m=null}})};var z=function(){var I=this;this._start=1;this._end=1;this._calculate=function(){if(i<5){y=i}x=parseInt(x);if(x>i){x=i}if(x<1){x=1}I._start=Math.max(1,x-parseInt(y/2));I._end=Math.min(i,I._start+y-1);I._start=Math.max(1,I._end-y+1)};this.render=function(){I._calculate();var N="";var L=x;N+='<span class="paginations">';if(1!=L){N+='<span class="n"><a href="javascript:;" page='+(L-1)+' class="hi_bl"><b>上一页</b></a></span>'}N+='<span class="p"> ';if(1!=L){N+='<a href="javascript:;" page="1">1</a>'}var O=4;if(i<6){O=5}if(L>O){N+='<a href="javascript:;">...</a>'}for(var K=I._start;K<=I._end;K++){if(K==L){N+="<em>"+K+"</em>"}else{if(K!=1&&K!=i){N+='<a href="javascript:;" page="'+K+'">'+K+"</a>"}}}var J=3;if(i<6){J=5}if(L+J<i){N+='<a href="javascript:;">...</a>'}if(L!=i){N+='<a href="javascript:;" page="'+i+'">'+i+"</a>"}N+="</span>";if(i!=L){N+='<span class="n"><a href="javascript:;" page='+(L+1)+' class="hi_br"><b>下一页</b></a></span>'}N+="</span>";N+=" 共计 "+p+" 当前"+L+" / "+i;g.html(N);var M=g.find("a");for(var K=0;K<M.length;K++){M[K].onclick=function(){var P=this.getAttribute("page");if(P!=undefined&&P!=""){x=P;C()}}}}};var n=function(I,K,J){y=5;h=I;g=K;j=J;m=null;l=null;i=0;x=0;C()};var c=function(I){var L=window.location.search;if(L.indexOf(I)!=-1){var J=L.indexOf(I)+I.length+1;var K=L.indexOf("&",J);if(K==-1){return L.substring(J)}else{return L.substring(J,K)}}else{return""}};var E=function(I,L,K,J){I.each(function(M){var N=f(this);if(M==0){N.addClass(K);L.eq(M).show()}N.click(function(){if(J){var Q=N.parent();var P=Q.index();var O=N.attr("rel");f.ajax({type:"get",dataType:"html",url:O,cache:false,async:false,success:function(R){N.addClass(K);Q.siblings().find("a").removeClass(K);L.html(R)},error:function(R){}})}else{var Q=N.parent();var P=Q.index();N.addClass(K);Q.siblings().find("a").removeClass(K);L.eq(P).show().siblings().hide()}})})};var B=function(P,N,M){var L=f(".js_kv_item li");var I=f(".js_kv_nav li");var Q=L.size();var R=M;var O=P;var S=N;L.each(function(){var U=f(this);var T=U.data("kv_bg");U.attr("style","background-image:url('"+T+"')")});I.parent().css({width:Q*R+"px","margin-left":-Q*R/2+"px"});I.each(function(T){var U=f(this);if(T==0){U.addClass("current")}U.click(function(){var V=U.index();L.eq(V).fadeIn().siblings().fadeOut();U.addClass("current").siblings().removeClass("current")})});var K=function(){var T=I.filter(".current").index();L.eq(T+1).fadeIn().siblings().fadeOut();I.eq(T+1).addClass("current").siblings().removeClass("current");if(T==(Q-1)){L.eq(0).fadeIn().siblings().fadeOut();I.eq(0).addClass("current").siblings().removeClass("current")}};var J=setInterval(function(){if(S==true){K()}},O);I.hover(function(){if(N){S=false}},function(){if(N){S=true}})};var a=f.browser,u=function(){return a.msie&&(a.version==="6.0")},e=function(K,L,J){var I="qd_fix_"+L;if(!K.hasClass(I)){K.addClass(I);if(!!J){J(I)}}},t={auto:"0px"},w={},A=function(L,J){var K=w[L],M={},I="";if(!K){K=w[L]={}}I=M[J]=L.css(J);if(u){M[J]=t[I]||I}f.extend(K,M)},G={},k=["top","bottom","left","right","center","middle"],D={top:"left",bottom:"left",left:"top",right:"top",center:"top",middle:"left"};f.each(k,function(I,J){G[J]=J==="center"?function(K){e(K,J,function(){A(K,"margin-left");K.css("margin-left","-"+K.width()/2+"px")})}:J==="middle"?function(K){e(K,J,function(){A(K,"margin-top");K.css("margin-top","-"+K.height()/2+"px")})}:function(K){e(K,J)}});G.abs=function(K,J,I){A(K,J);if(u()){if(J==="top"){K.attr("style","top:expression((topwindowscroll=document.documentElement&&document.documentElement.scrollTop||document.body.scrollTop)+"+I+"+'px' )")}else{K.get(0).style[J]=I+"px"}}else{K.get(0).style[J]=I+"px"}};var r=function(I,O,P){var K=O.split(","),J=0,N=f("#"+I),Q="",M=false;fn=null;if(!N.hasClass("qd_fix")){N.addClass("qd_fix")}try{for(;J<2;J++){O=K[J];fn=G[O];if(!!O&&!!fn){fn(N);M=true;continue}O=parseInt(O);if(isNaN(O)){continue}Q=M&&K[0]||J&&"top"||"left";Q=D[Q];if(!!Q){G.abs(N,Q,O)}}}catch(L){throw new Error(L)}if(!!P){N.addClass(P)}};var s=function(P,M,O){var L=M&&M.split(",")||k,K=0,I=L.length,N=f("#"+P),J=w[N];N.removeClass("qd_fix");for(;K<I;K++){M=L[K];if(!!M){N.removeClass("qd_fix_"+M)}}if(!!O){N.removeClass(O)}N.css(J);delete w[N]};var v=function(K,I,J){if(!K){alert("idobj is null");return false}K.validform({tiptype:I,rightinfo:J})};var b=function(K,I,J){if(!K){alert("idobj is null");return false}K.submitvalidform({tiptype:I,rightinfo:J})};var d=function(I){if(!I){alert("idobj is null");return false}I.resetform();I[0].reset()};var H=function(N,L,P,M,J,O,K,I){if(!N){alert("idobj is null");return false}N.productScroll({scrollnum:L,timer:P,hidebtn:M,prevclassname:J,nextclassname:O,scrolldirect:K,istoscroll:I})};var q=function(N,L,I,K,O,J,M){if(!N){alert("idobj is null");return false}N.click(function(){f.openQDWin({width:L,height:I,bgvisibel:K,title:O,html:J,iframe:M})})};window.QD={Page:n,getValue:c,ChangeTab:E,Carousel:B,fix:r,fixRemove:s,ValidForm:v,SubmitValidForm:b,ResetForm:d,Scroll:H,FloagLayer:q}})(jQuery);