<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Node</title>
    <link rel="stylesheet" href="../images/cssgrids-min.css">
    <link rel="stylesheet" href="../images/main.css">
    <link rel="stylesheet" href="../images/prettify-min.css">
    
</head>
<body>

<div id="doc">
    <div id="hd">
        <h1><img src="http://www.trs.com.cn/images_new/logo.jpg"></h1>
    </div>
    
        <a href="#toc" class="jump">Jump to Table of Contents</a>
    

            <h1>模块名称： </h1>
<div class="yui3-g">
<div class="yui3-u-3-4">
<div id="main">
<div class="content">
<h2 id="getting-started">功能描述:</h2>
<pre class="code prettyprint">
<!--  功能描述  start-->
1、因有ajex请求需要使用apache或tomcat 服务器观看效果
2、对WCM分页进行了，优化更新，采用xml实现了无刷新分页，考虑到有可能数据过多xml文件过大，采用多xml实现。
3、它的好处如下：分页只生成了xml，而不用生成整个HTML页面，节省了服务器空间，实现无刷新分页，提升了用户体验。
4、模板中填写下列代码，发布文件名:data，文件扩展名:xml。
5、xml中参数pageCount分页总数量，record_Count数据总量
<!--  功能描述  start-->
</pre>
				

<h2 id="getting-started">使用方法</h2>

<p>
使用此功能模块，需要在页面下面引入如下代码：
</p>

<pre class="code prettyprint">
&lt;script type="text/javascript"  src="../images/jquery-1.8.3.min.js" charset="UTF-8"&gt; &lt;/script&gt;
&lt;script type="text/javascript" src="../images/TRS.frame-v1.0.0.js" charset="UTF-8"&gt;&lt;/script&gt;
	</pre>

<p>
引入说明
</p>
代码执行方法
<pre class="code prettyprint">&lt;script&gt;


	TRS.Page({
		pageId:'#js_page',	//分页输出ID选择器
		pageData:'#js_data',	//数据输出选择器
		headerKeep:1,		//头部预留页码数量 headerKeep + footerKeep 必须为偶数
		footerKeep:1,		//尾部预留页码数量 headerKeep + footerKeep 必须为偶数
		pageLength:7,		//页码显示数量,必须为奇数
		tagStr:'a',			//使用标签
		classStr:'classStr',//标签class
		idStr:'idStr',		//标签id
		nameStr:'nameStr',	//标签name
		disable:'disable',	//不能点击class
		active:'active',	//标签选中class
		prevName:'上一页',	
		nextName:'下一页',
		classPage:'classPage',//上下页class
		pageType:'WCM',		//分页类型
		ajaxData:insertItem,//异步请求
		ajaxType:'get',		//请求类型
		ajaxDataType:'xml',	//数据类型
		dataUrl:'data/data.xml'//数据URL
	});

&lt;/script&gt;</pre>





<h2 id="node-using">参数说明</h2>
<pre class="code prettyprint">
	pageId:'#js_page',	//分页输出ID选择器
	pageData:'#js_data',	//数据输出选择器
	headerKeep:1,		//头部预留页码数量 headerKeep + footerKeep 必须为偶数
	footerKeep:1,		//尾部预留页码数量 headerKeep + footerKeep 必须为偶数
	pageLength:7,		//页码显示数量,必须为奇数
	tagStr:'a',			//使用标签
	classStr:'classStr',//标签class
	idStr:'idStr',		//标签id
	nameStr:'nameStr',	//标签name
	disable:'disable',	//不能点击class
	active:'active',	//标签选中class
	prevName:'上一页',	
	nextName:'下一页',
	classPage:'classPage',//上下页class
	pageType:'WCM',		//分页类型
	ajaxData:insertItem,//异步请求
	ajaxType:'get',		//请求类型
	ajaxDataType:'xml',	//数据类型
	dataUrl:'data/data.xml'//数据URL
</pre>

<h3 id="using-node">例子代码</h3>

<pre class="code prettyprint" > &#x2F;&#x2F; 例子代码
说明
function insertItem(data) {
	return "&lt;li&gt;&lt;a href=\""+$(data).attr('url')+"\" title=\""+$(data).attr('title')+"\" target=\"_blank\"&gt;"+$(data).text()+"&lt;/a&gt;&lt;/li&gt;";
}

	TRS.Page({
		pageId:'#js_page',	//分页输出ID选择器
		pageData:'#js_data',	//数据输出选择器
		headerKeep:1,		//头部预留页码数量 headerKeep + footerKeep 必须为偶数
		footerKeep:1,		//尾部预留页码数量 headerKeep + footerKeep 必须为偶数
		pageLength:7,		//页码显示数量,必须为奇数
		tagStr:'a',			//使用标签
		classStr:'classStr',//标签class
		idStr:'idStr',		//标签id
		nameStr:'nameStr',	//标签name
		disable:'disable',	//不能点击class
		active:'active',	//标签选中class
		prevName:'上一页',	
		nextName:'下一页',
		classPage:'classPage',//上下页class
		pageType:'WCM',		//分页类型
		ajaxData:insertItem,//异步请求
		ajaxType:'get',		//请求类型
		ajaxDataType:'xml',	//数据类型
		dataUrl:'data/data.xml'//数据URL
	});
</pre>


<h3 id="create">例子演示</h3>
<h4>HTML</h4>
<pre class="code prettyprint" >
&#x2F;&#x2F; HTML代码，如果需要
&lt;div&gt;&lt;ul id="data"&gt;&lt;/ul&gt;&lt;/div&gt;
&lt;div ID="page"&gt;&lt;/div&gt;&lt;br /&gt;

WCM需要发出XML
&lt;?xml version="1.0" encoding="UTF-8"?&gt;
&lt;comment&gt;
	&lt;pageCount&gt;${page_Count}&lt;/pageCount&gt;
	&lt;record_Count&gt;${record_Count}&lt;/record_Count&gt;
	&lt;items&gt;
	&lt;TRS_DOCUMENTS ID="OWNER" pagesize="4"&gt;&lt;item url='&lt;TRS_DOCUMENT FIELD='_RECURL' URLISABS='TRUE' AUTOLINK='TRUE' /&gt;' title='&lt;TRS_DOCUMENT AUTOLINK="FALSE" /&gt;' &gt;&lt;![CDATA[&lt;TRS_DOCUMENT NUM="50" AUTOLINK="FALSE" /&gt;]]&gt;&lt;/item&gt;&lt;/TRS_DOCUMENTS&gt;
	&lt;/items&gt;
&lt;/comment&gt;
</pre>

<h4>CSS</h4>
<pre class="code prettyprint">
&#x2F;&#x2F; CSS代码，如果需要

</pre>

<h4>Javascript</h4>
<pre class="code prettyprint">
&#x2F;&#x2F; Javascript代码，如果需要
//定义分页数据样式
function insertItem(data) {
	return "&lt;li&gt;&lt;a href=\""+$(data).attr('url')+"\" title=\""+$(data).attr('title')+"\" target=\"_blank\"&gt;"+$(data).text()+"&lt;/a&gt;&lt;/li&gt;";
}

//参数 分页数据xml，分页写入选择器，数据写入选择器
//WCM分页使用

	TRS.Page({
		pageId:'#js_page',	//分页输出ID选择器
		pageData:'#js_data',	//数据输出选择器
		headerKeep:1,		//头部预留页码数量 headerKeep + footerKeep 必须为偶数
		footerKeep:1,		//尾部预留页码数量 headerKeep + footerKeep 必须为偶数
		pageLength:7,		//页码显示数量,必须为奇数
		tagStr:'a',			//使用标签
		classStr:'classStr',//标签class
		idStr:'idStr',		//标签id
		nameStr:'nameStr',	//标签name
		disable:'disable',	//不能点击class
		active:'active',	//标签选中class
		prevName:'上一页',	
		nextName:'下一页',
		classPage:'classPage',//上下页class
		pageType:'WCM',		//分页类型
		ajaxData:insertItem,//异步请求
		ajaxType:'get',		//请求类型
		ajaxDataType:'xml',	//数据类型
		dataUrl:'data/data.xml'//数据URL
	});
</pre>


</div>
            </div>
        </div>

        <div class="yui3-u-1-4">
            <div class="sidebar">
                
                   
                

                
                    <div class="sidebox">
                        <div class="hd">
                            <h2 class="no-toc">相关例子</h2>
                        </div>

                        <div class="bd">
                            <ul class="examples">
                                
                                    
                                        <li data-description="Using selectors and property accessors with Node.">
                                            <a href="../../build-test/paging/index.html">例子一</a>
                                        </li>
                            </ul>
                        </div>
                    </div>
                

                
            </div>
        </div>
    </div>
</div>
<script src="../images/prettify-min.js"></script>
<script>prettyPrint();</script>

</body>
</html>
